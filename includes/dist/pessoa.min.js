!function(e){var a={};function o(s){if(a[s])return a[s].exports;var t=a[s]={i:s,l:!1,exports:{}};return e[s].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=a,o.d=function(e,a,s){o.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:s})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(a,"a",a),a},o.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},o.p="",o(o.s=0)}([function(e,a){app.config(function(e){e.setJcropConfig({bgColor:"black",bgOpacity:.4,aspectRatio:1,maxWidth:300,maxHeight:300}),e.setJcropConfig("upload",{bgColor:"black",bgOpacity:.4,aspectRatio:1,maxWidth:300,maxHeight:300})}),app.controller("ctrlPessoa",function(e,a,o,s,t){e.objPessoa={nome:"",dt_nascimento:null,dt_nascimento_mobile:null,cpf:"",sexo:"",pais:"pais",arrListaPaisEndereco:"",estado:"",cidade:"",bairro:"",rua:"",nr_casa:"",complemento:"",fone_comercial:"",fone_residencial:"",celular:"",email:"",login:"",senha1:"",senha2:"",id_estado:"",id_cidade:"",nome_pai:"",nome_mae:"",imagem_frente_documento:"",imagem_verso_documento:""},e.arrListaPaisEndereco=[],e.arrListaEstadoEndereco=[],e.arrListaCidadeEndereco=[],e.arrListaEstadoNascimento=[],e.arrListaCidadeNascimento=[],e.img_frente="",e.img_verso="",e.__construct=(()=>{$(".dt_nascimento").mask("99/99/9999",{placeholder:"_"}),$("#cpf").mask("999.999.999-99",{placeholder:"_"}),$(".cls-mascara-fone").mask("(99)9999-9999?9",{placeholder:"_"}),$("#cep").mask("99.999-999",{placeholder:"_"});let a=new Date;e.dt_nascimento=a,e.month=["Janeiro","Fevereiro","Março","Abri","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],e.monthShort=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],e.weekdaysFull=["Domingo","Segunda-Feita","Terça-Feita","Quarta-Feira","Quinta-Feira","Sexta-Feira","Sábado"],e.weekdaysvarter=["D","S","T","Q","Q","S","S"],e.disable=[!1,1,7],e.today="Hoje",e.clear="Limpar",e.close="Fechar",e.selectMonths=!0,e.selectYears=100,e.id_pessoa_fisica=null,e.is_alterar=!1,e.arrListaSexo={sexoSelected:"sexoSelected",options:[{descricao:"Feminino",valor:"F"},{descricao:"Masculino",valor:"M"}]},angular.element(".modal").modal(),angular.element("ul.tabs").tabs()}),e.getListaPais=(()=>{o.post("../Gerais/Geral/getListaPais/").success(function(a){e.arrListaPaisEndereco=a})}),e.getListaEstadoEndereco=(()=>{o.post("../Gerais/Geral/getListaEstado/").success(function(a){e.arrListaEstadoEndereco=a;const o={};angular.forEach(a.options,(e,a)=>{o[e.descricao]=""}),$("#estado").autocomplete({data:o,limit:5,minLength:1})})}),e.getListaEstadoNascimento=(()=>{o.post("../Gerais/Geral/getListaEstado/").success(function(a){e.arrListaEstadoNascimento=a;const o={};angular.forEach(a.options,(e,a)=>{o[e.descricao]=""}),$("#estadoNascimento").autocomplete({data:o,limit:5,minLength:1})})}),e.getListaCidadeEndereco=(()=>{const a=e.arrListaEstadoEndereco.options.find(e=>e.descricao===$("#estado").val());a&&(e.objPessoa.estado=a,o.post("../Gerais/Geral/getListaCidade/",e.objPessoa.estado).success(function(a){e.arrListaCidadeEndereco=a;const o={};angular.forEach(a.options,(e,a)=>{o[e.descricao]=""}),$("#cidade").autocomplete({data:o,limit:5,minLength:1})}))}),e.getListaCidadeNascimento=(()=>{e.objPessoa.id_estado=e.arrListaEstadoNascimento.options.find(e=>e.descricao===$("#estadoNascimento").val()),o.post("../Gerais/Geral/getListaCidade/",e.objPessoa.id_estado).success(function(a){e.arrListaCidadeNascimento=a;const o={};angular.forEach(a.options,(e,a)=>{o[e.descricao]=""}),$("#cidadeNascimento").autocomplete({data:o,limit:5,minLength:1})})}),e.getListaNecessidadesEspeciais=(()=>{o.post("../AdmCadastroNecessidades/necessidades_especiais/").success(function(a){e.arrListaNecessidades=a})}),e.comparaValores=((e,a)=>void 0!=e&&void 0!=a&&!(e.length<1||a.length<1)&&angular.equals(e.trim(),a.trim())),e.validaSalvar=(()=>{let a=e.obj.selection[0],o=e.obj.selection[1],s=e.obj.selection[4],i=e.obj.selection[5],n=e.arrListaSexo.sexoSelected.valor,r=e.arrListaCidadeEndereco.options.find(e=>e.descricao===$("#cidade").val()).id_cidade,c="",d="";e.is_ajudante&&(c=e.arrListaEstadoNascimento.options.find(e=>e.descricao===$("#estadoNascimento").val()).id_estado,d=e.arrListaCidadeNascimento.options.find(e=>e.descricao===$("#cidadeNascimento").val()).id_cidade);let l=e.objPessoa.dt_nascimento;if(null!=e.objPessoa.dt_nascimento||void 0==e.objPessoa.dt_nascimento){let a=new Date(e.objPessoa.dt_nascimento_mobile);l=a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear()}if(e.objPessoa.sexo=n,e.objPessoa.cidade=r,e.objPessoa.sexo=n,!e.comparaValores(e.objPessoa.senha1,e.objPessoa.senha2))return $.notify("Senhas não são iguais"),!1;let m={is_alterar:e.is_alterar,arrDadosImagem:{urlFoto:e.obj.src,x:a,y:o,w:s,h:i},arrPessoa:{nome:e.objPessoa.nome,cpf:e.objPessoa.cpf,sexo:n,login:e.objPessoa.login,senha:e.objPessoa.senha1,nome_mae:e.objPessoa.nome_mae,nome_pai:e.objPessoa.nome_pai,id_estado:c,id_cidade:d,dt_nascimento:l},arrEndereco:{id_cidade:r,bairro:e.objPessoa.bairro,rua:e.objPessoa.rua,numero:e.objPessoa.nr_casa,cep:e.objPessoa.cep,complemento:e.objPessoa.complemento},arrContatos:[{descricao:e.objPessoa.fone_residencial,id_tipo_contato:1},{descricao:e.objPessoa.fone_comercial,id_tipo_contato:2},{descricao:e.objPessoa.celular,id_tipo_contato:3},{descricao:e.objPessoa.email,id_tipo_contato:4}],arrNecessidade:e.arrListaNecessidades.necessidade};if(1!=e.is_ajudante||0!=e.is_contratante&&void 0!=e.is_contratante&&null!=e.is_contratante){if(1!=e.is_contratante||0!=e.is_ajudante&&void 0!=e.is_ajudante&&null!=e.is_ajudante)return!1;m.is_contratante=!0,t.setIsContratante(!0)}else m.is_ajudante=!0,t.setIsAjudante(!0);1==e.is_alterar&&(m.id_pessoa_fisica=e.id_pessoa_fisica),e.is_ajudante&&(m.imagem_frente_documento=e.img_frente,m.imagem_verso_documento=e.img_verso),angular.element("#modalCartaoCredito").modal("open"),t.setArrPessoa(m)}),e.getImgFrente=(a=>{e.getImagemDocPessoa(a,!0)}),e.getImgVerso=(a=>{e.getImagemDocPessoa(a,!1)}),e.IsExtensaoValida=(e=>!!/\.(jpe?g|png)$/i.test(e)),e.getImagemDocPessoa=((a,o)=>{let s=new FileReader;e.sn_salvar=!0,s.onload=(a=>{e.$apply(function(){e.IsExtensaoValida(i.name)?o?e.img_frente=s.result:e.img_verso=s.result:$.notify("Extensão não permitida!")})});let t="",i=(t=o?document.getElementById("img_frente"):document.getElementById("img_verso")).files[0];i&&s.readAsDataURL(i)}),e.verificaAcao=(()=>{e.validaSalvar()}),e.carregarAlterar=(a=>{e.is_alterar=!0,e.id_pessoa_fisica=a.id_pessoa_fisica,e.nome=a.nome,e.cpf=a.cpf,e.rg=a.rg,e.sexoSelected={valor:a.sexo}}),e.carregaExcluir=(a=>{e.id_pessoa_fisica=a.id_pessoa_fisica}),e.hasLogin=(()=>{const a={login:e.objPessoa.login};o.post("../Pessoa/getLoginExistente/",a).success(function(a){a.hasLogin>0&&($.notify("Este login já existe!","error"),e.objPessoa.login="",angular.element("#login").focus())})}),e.redirecionaPerfil=(()=>{window.location.href="../perfil/"}),e.trocarAba=(e=>{$("ul.tabs").tabs("select_tab",e)}),angular.element(document).ready(function(){e.__construct()}),e.getListaEstadoNascimento(),e.getListaEstadoEndereco(),e.getListaNecessidadesEspeciais(),e.obj={src:"",selection:[],thumbnail:!1}})}]);