!function(a){var e={};function o(t){if(e[t])return e[t].exports;var s=e[t]={i:t,l:!1,exports:{}};return a[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=a,o.c=e,o.d=function(a,e,t){o.o(a,e)||Object.defineProperty(a,e,{configurable:!1,enumerable:!0,get:t})},o.r=function(a){Object.defineProperty(a,"__esModule",{value:!0})},o.n=function(a){var e=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(e,"a",e),e},o.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)},o.p="",o(o.s=2)}([function(a,e){app.config(function(a){a.setJcropConfig({bgColor:"black",bgOpacity:.4,aspectRatio:1,maxWidth:300,maxHeight:300}),a.setJcropConfig("upload",{bgColor:"black",bgOpacity:.4,aspectRatio:1,maxWidth:300,maxHeight:300})}),app.controller("ctrlPessoa",function(a,e,o,t,s){a.objPessoa={nome:"",dt_nascimento:null,dt_nascimento_mobile:null,cpf:"",sexo:"",pais:"pais",arrListaPaisEndereco:"",estado:"",cidade:"",bairro:"",rua:"",nr_casa:"",complemento:"",celular:"",email:"",login:"",senha1:"",senha2:"",id_estado:"",id_cidade:"",nome_pai:"",nome_mae:"",imagem_frente_documento:"",imagem_verso_documento:""},a.arrListaPaisEndereco=[],a.arrListaEstadoEndereco=[],a.arrListaCidadeEndereco=[],a.arrListaEstadoNascimento=[],a.arrListaCidadeNascimento=[],a.img_frente="",a.img_verso="",a.__construct=(()=>{$(".dt_nascimento").mask("99/99/9999",{placeholder:"_"}),$("#cpf").mask("999.999.999-99",{placeholder:"_"}),$(".cls-mascara-fone").mask("(99)9999-9999?9",{placeholder:"_"}),$("#cep").mask("99.999-999",{placeholder:"_"});let e=new Date;a.dt_nascimento=e,a.month=["Janeiro","Fevereiro","Março","Abri","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],a.monthShort=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],a.weekdaysFull=["Domingo","Segunda-Feita","Terça-Feita","Quarta-Feira","Quinta-Feira","Sexta-Feira","Sábado"],a.weekdaysvarter=["D","S","T","Q","Q","S","S"],a.disable=[!1,1,7],a.today="Hoje",a.clear="Limpar",a.close="Fechar",a.selectMonths=!0,a.selectYears=100,a.id_pessoa_fisica=null,a.is_alterar=!1,a.arrListaSexo={sexoSelected:"sexoSelected",options:[{descricao:"Feminino",valor:"F"},{descricao:"Masculino",valor:"M"}]},angular.element(".modal").modal(),angular.element("ul.tabs").tabs()}),a.getListaPais=(()=>{o.post("../Gerais/Geral/getListaPais/").success(function(e){a.arrListaPaisEndereco=e})}),a.getListaEstadoEndereco=(()=>{o.post("../Gerais/Geral/getListaEstado/").success(function(e){a.arrListaEstadoEndereco=e;const o={};angular.forEach(e.options,(a,e)=>{o[a.descricao]=""}),$("#estado").autocomplete({data:o,limit:5,minLength:1})})}),a.getListaEstadoNascimento=(()=>{o.post("../Gerais/Geral/getListaEstado/").success(function(e){a.arrListaEstadoNascimento=e;const o={};angular.forEach(e.options,(a,e)=>{o[a.descricao]=""}),$("#estadoNascimento").autocomplete({data:o,limit:5,minLength:1})})}),a.getListaCidadeEndereco=(()=>{const e=a.arrListaEstadoEndereco.options.find(a=>a.descricao===$("#estado").val());e&&(a.objPessoa.estado=e,o.post("../Gerais/Geral/getListaCidade/",a.objPessoa.estado).success(function(e){a.arrListaCidadeEndereco=e;const o={};angular.forEach(e.options,(a,e)=>{o[a.descricao]=""}),$("#cidade").autocomplete({data:o,limit:5,minLength:1})}))}),a.getListaCidadeNascimento=(()=>{a.objPessoa.id_estado=a.arrListaEstadoNascimento.options.find(a=>a.descricao===$("#estadoNascimento").val()),o.post("../Gerais/Geral/getListaCidade/",a.objPessoa.id_estado).success(function(e){a.arrListaCidadeNascimento=e;const o={};angular.forEach(e.options,(a,e)=>{o[a.descricao]=""}),$("#cidadeNascimento").autocomplete({data:o,limit:5,minLength:1})})}),a.getListaNecessidadesEspeciais=(()=>{o.post("../AdmCadastroNecessidades/necessidades_especiais/").success(function(e){a.arrListaNecessidades=e})}),a.comparaValores=((a,e)=>void 0!=a&&void 0!=e&&!(a.length<1||e.length<1)&&angular.equals(a.trim(),e.trim())),a.validaSalvar=(()=>{let e=a.obj.selection[0],o=a.obj.selection[1],t=a.obj.selection[4],i=a.obj.selection[5],r=a.arrListaSexo.sexoSelected.valor,n=a.arrListaCidadeEndereco.options.find(a=>a.descricao===$("#cidade").val()).id_cidade,c="",d="";a.is_ajudante&&(c=a.arrListaEstadoNascimento.options.find(a=>a.descricao===$("#estadoNascimento").val()).id_estado,d=a.arrListaCidadeNascimento.options.find(a=>a.descricao===$("#cidadeNascimento").val()).id_cidade);let l=a.objPessoa.dt_nascimento;if(null!=a.objPessoa.dt_nascimento||void 0==a.objPessoa.dt_nascimento){let e=new Date(a.objPessoa.dt_nascimento_mobile);l=e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()}if(a.objPessoa.sexo=r,a.objPessoa.cidade=n,a.objPessoa.sexo=r,!a.comparaValores(a.objPessoa.senha1,a.objPessoa.senha2))return $.notify("Senhas não são iguais"),!1;let m={is_alterar:a.is_alterar,arrDadosImagem:{urlFoto:a.obj.src,x:e,y:o,w:t,h:i},arrPessoa:{nome:a.objPessoa.nome,cpf:a.objPessoa.cpf,sexo:r,login:a.objPessoa.login,senha:a.objPessoa.senha1,nome_mae:a.objPessoa.nome_mae,nome_pai:a.objPessoa.nome_pai,id_estado:c,id_cidade:d,dt_nascimento:l},arrEndereco:{id_cidade:n,bairro:a.objPessoa.bairro,rua:a.objPessoa.rua,numero:a.objPessoa.nr_casa,cep:a.objPessoa.cep,complemento:a.objPessoa.complemento},arrContatos:[{descricao:a.objPessoa.celular,id_tipo_contato:3},{descricao:a.objPessoa.email,id_tipo_contato:4}],arrNecessidade:a.arrListaNecessidades.necessidade};if(1!=a.is_ajudante||0!=a.is_contratante&&void 0!=a.is_contratante&&null!=a.is_contratante){if(1!=a.is_contratante||0!=a.is_ajudante&&void 0!=a.is_ajudante&&null!=a.is_ajudante)return!1;m.is_contratante=!0,s.setIsContratante(!0)}else m.is_ajudante=!0,s.setIsAjudante(!0);1==a.is_alterar&&(m.id_pessoa_fisica=a.id_pessoa_fisica),a.is_ajudante&&(m.imagem_frente_documento=a.img_frente,m.imagem_verso_documento=a.img_verso),angular.element("#modalCartaoCredito").modal("open"),s.setArrPessoa(m)}),a.getImgFrente=(e=>{a.getImagemDocPessoa(e,!0)}),a.getImgVerso=(e=>{a.getImagemDocPessoa(e,!1)}),a.IsExtensaoValida=(a=>!!/\.(jpe?g|png)$/i.test(a)),a.getImagemDocPessoa=((e,o)=>{let t=new FileReader;a.sn_salvar=!0,t.onload=(e=>{a.$apply(function(){a.IsExtensaoValida(i.name)?o?a.img_frente=t.result:a.img_verso=t.result:$.notify("Extensão não permitida!")})});let s="",i=(s=o?document.getElementById("img_frente"):document.getElementById("img_verso")).files[0];i&&t.readAsDataURL(i)}),a.verificaAcao=(()=>{a.validaSalvar()}),a.carregarAlterar=(e=>{a.is_alterar=!0,a.id_pessoa_fisica=e.id_pessoa_fisica,a.nome=e.nome,a.cpf=e.cpf,a.rg=e.rg,a.sexoSelected={valor:e.sexo}}),a.carregaExcluir=(e=>{a.id_pessoa_fisica=e.id_pessoa_fisica}),a.hasLogin=(()=>{const e={login:a.objPessoa.login};o.post("../Pessoa/getLoginExistente/",e).success(function(e){e.hasLogin>0&&($.notify("Este login já existe!","error"),a.objPessoa.login="",angular.element("#login").focus())})}),a.redirecionaPerfil=(()=>{window.location.href="../perfil/"}),a.trocarAba=(a=>{$("ul.tabs").tabs("select_tab",a)}),angular.element(document).ready(function(){a.__construct()}),a.getListaEstadoNascimento(),a.getListaEstadoEndereco(),a.getListaNecessidadesEspeciais(),a.obj={src:"",selection:[],thumbnail:!1}})},function(a,e){app.controller("ctrlCartaoCredito",function(a,e,o,t){a.__construct=function(){a.id_cartao=null,a.is_alterar=!1,$("#dt_validade").mask("99/99/9999",{placeholder:"_"})},a.salvarCartao=function(){var e={nome_titular:a.nome_titular,numero_cartao:a.numero_cartao,dt_validade:a.dt_validade,codigo_seguranca:a.codigo_seguranca,is_alterar:a.is_alterar};t.setCartao(e),t.salvarPessoaCartao()},a.cancelar=function(){a.is_alterar=!1,a.id_cartao=null,a.nome_titular=null,a.numero_cartao=null,a.data_validade=null,$("#modalCartaoCredito").modal("close")},a.carregarAlterar=function(e){a.is_alterar=!0,a.id_cartao=e.id_cartao,a.numero_cartao=e.numero_cartao,a.nome_titular=e.nome_titular,a.data_validade=e.data_validade},a.carregaExcluir=function(e){a.id_cartao=e.id_cartao},a.excluir=function(){var e={id_cartao:a.id_cartao};o.post("../CartaoCredito/excluir",e).success(function(e){$("#modal_excluir").modal("hide"),a.arrCartao=e})},a.getCartaoCredito=function(){o.post("../CartaoCredito/getCartaoCredito").success(function(e){a.arrCartao=e,a.cancelar()})},angular.element(document).ready(function(){a.__construct()})})},function(a,e,o){o(1),a.exports=o(0)}]);